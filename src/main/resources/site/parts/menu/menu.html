<main class="grid-container menu">
  <h1 class="spacer-bottom-2"
      data-th-text="${portal.localize({'_key=menu.header', #strings.concat('_locale=', selectedLocale)})}">
    Meny
  </h1>
  <p class="spacer-bottom-1"
     data-th-utext="${portal.localize({'_key=menu.text', #strings.concat('_locale=', selectedLocale)})}"></p>
  <ul>
    <li>

      <a href="#"
         class="accordion-header js-accordion-header"
         aria-haspopup="true"
         aria-controls="content-1">
        <span
          data-th-utext="${portal.localize({'_key=menu.pizza.header', #strings.concat('_locale=', selectedLocale)})}">Pizza</span>
        <span class="arrow-icon"></span>
      </a>
      <div class="content" id="content-1">

        <section data-th-if="${not #lists.isEmpty(flatPizzas)}" class="spacer-bottom-2">
          <h1 class="spacer-bottom-1"
              data-th-text="${portal.localize({'_key=menu.flat-pizza.header', #strings.concat('_locale=', selectedLocale)})}">
            Flat</h1>
          <div class="menu-blocks">
            <div data-th-each="pizza : ${flatPizzas}" data-th-remove="tag">
              <div class="menu-block spacer-bottom-1">
                <div class="menu-block-header spacer-bottom-1">
                  <div
                    data-th-text="${portal.localize({#strings.concat('_key=', pizza.key), #strings.concat('_locale=', selectedLocale)})}">
                    pizza.key
                  </div>
                  <div data-th-text="${#strings.concat(pizza.price, ' :-') }"></div>
                </div>
                <div class="menu-block-footer">
                  <div data-th-each="ingredient, iterStat : ${pizza.ingredients}" data-th-remove="tag">
                  <span data-th-if="${iterStat.index != iterStat.size-1}" data-th-remove="tag">
                    <span
                      data-th-text="${#strings.concat(portal.localize({#strings.concat('_key=', ingredient.key), #strings.concat('_locale=', selectedLocale)}), ',')}">ingredient.key</span>
                  </span>
                    <span data-th-unless="${iterStat.index != iterStat.size-1}" data-th-remove="tag">
                    <span
                      data-th-text="${portal.localize({#strings.concat('_key=', ingredient.key), #strings.concat('_locale=', selectedLocale)})}">ingredient.key</span>
                  </span>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <section data-th-if="${not #lists.isEmpty(inbakadPizzas)}">
          <h1
            data-th-text="${portal.localize({'_key=menu.inbakad-pizza.header', #strings.concat('_locale=', selectedLocale)})}">
            inbakadPizzas</h1>
          <div data-th-each="pizza : ${inbakadPizzas}">
            <div class="menu-block">
              <div
                data-th-text="${portal.localize({#strings.concat('_key=', pizza.key), #strings.concat('_locale=', selectedLocale)})}">
                pizza.key
              </div>
              <div data-th-each="ingredient, iterStat : ${pizza.ingredients}" data-th-remove="tag">
                <span data-th-if="${iterStat.index != iterStat.size-1}" data-th-remove="tag">
                  <span
                    data-th-text="${#strings.concat(portal.localize({#strings.concat('_key=', ingredient.key), #strings.concat('_locale=', selectedLocale)}), ',')}">ingredient.key</span>
                </span>
                <span data-th-unless="${iterStat.index != iterStat.size-1}" data-th-remove="tag">
                  <span
                    data-th-text="${portal.localize({#strings.concat('_key=', ingredient.key), #strings.concat('_locale=', selectedLocale)})}">ingredient.key</span>
                </span>
              </div>
            </div>
          </div>
        </section>

        <section data-th-if="${not #lists.isEmpty(doublePizzas)}">
          <h1
            data-th-text="${portal.localize({'_key=menu.double-pizza.header', #strings.concat('_locale=', selectedLocale)})}">
            doublePizzas</h1>
          <div data-th-each="pizza : ${doublePizzas}">
            <div class="menu-block">
              <div
                data-th-text="${portal.localize({#strings.concat('_key=', pizza.key), #strings.concat('_locale=', selectedLocale)})}">
                pizza.key
              </div>
              <div data-th-each="ingredient, iterStat : ${pizza.ingredients}" data-th-remove="tag">
                <span data-th-if="${iterStat.index != iterStat.size-1}" data-th-remove="tag">
                  <span
                    data-th-text="${#strings.concat(portal.localize({#strings.concat('_key=', ingredient.key), #strings.concat('_locale=', selectedLocale)}), ',')}">ingredient.key</span>
                </span>
                <span data-th-unless="${iterStat.index != iterStat.size-1}" data-th-remove="tag">
                  <span
                    data-th-text="${portal.localize({#strings.concat('_key=', ingredient.key), #strings.concat('_locale=', selectedLocale)})}">ingredient.key</span>
                </span>
              </div>
            </div>
          </div>
        </section>

      </div>
    </li>
    <li>
      <a href="#"
         class="accordion-header js-accordion-header"
         aria-haspopup="true"
         aria-controls="content-2">
        <span>Sallad</span>
        <span class="arrow-icon"></span>
      </a>
      <div class="content" id="content-2">content</div>
    </li>
    <li>
      <a href="#"
         class="accordion-header js-accordion-header"
         aria-haspopup="true"
         aria-controls="content-3">
        <span>Ã€ la carte</span>
        <span class="arrow-icon"></span>
      </a>
      <div class="content" id="content-3">content</div>
    </li>
  </ul>

</main>

